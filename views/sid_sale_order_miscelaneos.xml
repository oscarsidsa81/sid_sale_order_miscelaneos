<odoo>
    <data>
        <!--SALE ORDER - PRESUPUESTOS 	model="ir.ui.view" 	sale.order.tree-->

        <record id="sid_sale_order_miscelaneos.tree" model="ir.ui.view">
            <field name="name">sid_sale_order_miscelaneos.tree</field>
            <field name="model">sale.order</field>
            <field name="priority" eval="17"/>
            <field name="inherit_id" ref="sale.order.tree"/>
            <field name="arch" type="xml">

                <!--Cambiamos el campo Project Manager a Expediting-->
                <xpath expr="//tree[1]/field[@name='project_manager_id']" position="attributes">
                    <attribute name="string">Expediting</attribute>
                </xpath>

            </field>
        </record>

        <!--SALE ORDER - FORM (contactos)	model="ir.ui.view" 	sale.order.form-->

        <record id="sid_sale_order_miscelaneos.form_contacts_fields" model="ir.ui.view">
            <field name="name">sid_sale_order_miscelaneos.form_contacts_fields</field>
            <field name="model">sale.order</field>
            <field name="priority" eval="16"/>
            <field name="inherit_id" ref="sale.order.form"/>
            <field name="arch" type="xml">

                <!--Modifica Dominio del Desplegable en el form de varios campos-->

                <xpath expr="//field[@name='partner_shipping_id']" position="attributes">
                    <attribute name="domain">
                        [
                        '|',
                        '&amp;',
                        ('type', '=', 'delivery'),
                        ('parent_id', '=', partner_id),
                        '&amp;',
                        ('is_company', '=', True),
                        ('id', '=', partner_id)
                        ]
                    </attribute>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="domain">[('is_company', '=', True)]</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_final_destiny']" position="attributes">
                    <attribute
                            name="domain">['|','&amp;',('type', '=', 'delivery'),('parent_id', '=', partner_id),'&amp;',('is_company',
                        '=', True),('id', '=', partner_id)]
                    </attribute>
                    <attribute
                            name="attrs">{'invisible': [('team_id', '!=', 7)]}
                    </attribute>
                </xpath>
                <xpath expr="//field[@name='partner_final_destiny']" position="after">
                    <field name="carrier_id"
                           string="Agencia"
                           attrs="{'readonly': [['state', '=', 'sale']]}"
                           options="{'no_create': True}"/>
                    <xpath expr="//field[@name='incoterm']" position="move"/>
                </xpath>


                <!--Cambios en order_line-->

                <xpath expr="//field[@name='order_line']/form//field[@name='supplier_id']" position="attributes">
                    <attribute name="domain">[('is_company', '=', True)]</attribute>
                </xpath>
                <xpath expr="//field[@name='order_line']/form//field[@name='supplier_id']" position="attributes">
                    <attribute name="domain">[('is_company', '=', True)]</attribute>
                </xpath>
                <xpath expr="//field[@name='order_line']/tree" position="attributes">
                    <attribute name="limit">150</attribute>
                </xpath>

            </field>
        </record>

        <!--SALE ORDER - FORM (varios)  model="ir.ui.view" 	sale.order.form-->

        <record id="sid_sale_order_miscelaneos.sale_form" model="ir.ui.view">
            <field name="name">sid_sale_order_miscelaneos.sale_form</field>
            <field name="model">sale.order</field>
            <field name="priority" eval="3000"/>
            <field name="inherit_id" ref="sale.order.form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='base_currency_id']" position="attributes">
                    <attribute name="attrs">{'invisible': [('line_team_id', '=', False)]}</attribute>
                </xpath>
                <xpath expr="//button[@name='calculate_rate']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='quotations_id']" position="after">
                    <field name="sale_order_template_id"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>